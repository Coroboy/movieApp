<!-- Hero Carousel -->
@if (!loading && peliculas.length > 0) {
<app-hero-carousel [items]="peliculas.slice(0, 8)"></app-hero-carousel>
}

<!-- Category Menu -->
@if (!loading && categories.length > 0) {
<app-category-menu [categories]="categories" [selectedId]="selectedCategoryId"
    (categorySelected)="onCategorySelected($event)">
</app-category-menu>
}

<div class="w-full px-4 md:px-12 py-6">
    @if (loading) {
    <div class="flex justify-center items-center py-20">
        <div class="text-center">
            <div class="inline-block animate-spin rounded-full h-12 w-12 border-b-2 border-brand"></div>
            <p class="mt-4 text-heading">Cargando películas...</p>
        </div>
    </div>
    } @else {
    <!-- Single Row Horizontal Carousel -->
    <div class="space-y-6">
        <h2 class="text-xl md:text-2xl font-black uppercase tracking-widest text-white/90">
            {{ selectedCategoryId === 0 ? 'Películas Destacadas' : selectedCategoryName }}
        </h2>
        <div #carouselContainer class="flex overflow-x-auto gap-4 md:gap-6 pb-8 no-scrollbar scroll-smooth">
            @for (movie of filteredMovies; track movie.id) {
            <app-movie-card [movie]="movie"
                class="flex-shrink-0 w-44 md:w-64 hover:scale-105 transition-transform duration-300"></app-movie-card>
            }
        </div>
    </div>
    }
</div>